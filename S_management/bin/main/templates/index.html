<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<title>ä¸€è¦§è¡¨ç¤º</title>
<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
<meta charset="utf-8" />
<style>
table {border-collapse: collapse;}
.col_id {width: 50px;}
.col_name {width: 120px;}
.col_address {width: 230px;}
.col_tel {width: 150px;}
</style>
</head>
<body>
<h3>è£½é€ éƒ¨å£²ã‚Šä¸Šã’ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ :æ¡ˆä»¶ä¸€è¦§</h3>
<table>
	<tr>
		<td>ã‚ˆã†ã“ã</td>
		<td><span th:text="${loginusers}"></span></td>
		<td>ã•ã‚“</td>
	</tr>
</table>
ğŸºğŸ”ğŸ ğŸ”¥

<form action="/add">
    <input type="submit" name="newAdd" value="æ–°è¦ç™»éŒ²" style="WIDTH: 250px; HEIGHT: 20px" />
    <input type="hidden" name="newAddress" value="æ–°è¦ç™»éŒ²">
</form>


<form th:action="@{/Search}" th:object="${user}" th:method="get">
	<table>
		<tr>
			<th class="cell_title">é¡§å®¢</th>
			<th class="cell_required">ï¼š</th>
				<td><select id="singleSelect" name="selectedItemC" th:field="*{clientname}">
    			<option value="beer" selected="selected" class="msg">---</option>
    			<option th:each="item : ${item}" th:value="${item.clientname}" th:text="${item.clientname}">
				</select>
				</td>
		</tr>

		<tr>
			<th class="cell_title">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
			<th class="cell_required">ï¼š</th>
				<td><select id="singleSelect" name="selectedItemS" th:field="*{status}">
    			<option value="beer" selected="selected" class="msg">---</option>
    			<option th:each="item : ${item}" th:value="${item.status}" th:text="${item.status}">
				</select>
				</td>
		</tr>
	<script>
	$(function() {
		// é¡§å®¢ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰ç™ºå‹•
		$('select[name="clientname"]').change(function() {

			// é¸æŠã•ã‚Œã¦ã„ã‚‹é¡§å®¢ã®ã‚¯ãƒ©ã‚¹åã‚’å–å¾—
			var clientName = $('select[name="clientname"] option:selected').attr("class");
			console.log(clientName);

			// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®è¦ç´ æ•°ã‚’å–å¾—
			var count = $('select[name="status"]').children().length;

			// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®è¦ç´ æ•°åˆ†ã€foræ–‡ã§å›ã™
			for (var i=0; i<count; i++) {

				var status = $('select[name="status"] option:eq(' + i + ')');

				if(status.attr("class") === clientName) {
					// é¸æŠã—ãŸé¡§å®¢ã¨åŒã˜ã‚¯ãƒ©ã‚¹åã ã£ãŸå ´åˆ

					status.show();
				}else {
					// é¸æŠã—ãŸé¡§å®¢ã¨ã‚¯ãƒ©ã‚¹åãŒé•ã£ãŸå ´åˆ

					if(status.attr("class") === "msg") {
						// ã€Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é¸æŠã—ã¦ä¸‹ã•ã„ã€ã¨ã„ã†è¦ç´ ã ã£ãŸå ´åˆ

							status.show();  //ã€Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é¸æŠã—ã¦ä¸‹ã•ã„ã€ã‚’è¡¨ç¤ºã•ã›ã‚‹
							status.prop('selected',true);  //ã€Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é¸æŠã—ã¦ä¸‹ã•ã„ã€ã‚’å¼·åˆ¶çš„ã«é¸æŠã•ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã«ã™ã‚‹
					} else {
						// ã€Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’é¸æŠã—ã¦ä¸‹ã•ã„ã€ã¨ã„ã†è¦ç´ ã§ãªã‹ã£ãŸå ´åˆ

						status.hide();
					}
				}
			}
		})
	})
	</script>

	<div  style="position: relative; left: 400px; top: -25px;">
		ä»¶åï¼š<td><input type="text" th:field="*{subject}"></td>
    	<input type="submit"name="search" value="æ¤œç´¢"/>
    	<input type="hidden" name="mailadd" th:value="${loginmail}">
    </div>
    </table>
</form>


<table border="1">
    <tr>
    	<th bgcolor="#bfefdf" class="col_id">ID</th>
        <th bgcolor="#bfefdf" class="col_clientname">é¡§å®¢</th>
        <th bgcolor="#bfefdf" class="col_day">å—æ³¨æ—¥</th>
        <th bgcolor="#bfefdf" class="col_snumber">Sç•ªå·</th>
        <th bgcolor="#bfefdf" class="col_subject">ä»¶å</th>
        <th bgcolor="#bfefdf" class="col_quantity">æ•°é‡</th>
        <th bgcolor="#bfefdf" class="col_deliveryday">ç´å…¥æŒ‡å®šæ—¥</th>
        <th bgcolor="#bfefdf" class="col_deliveryday2">ç´å…¥æ—¥</th>
        <th bgcolor="#bfefdf" class="col_billingday">è«‹æ±‚æ—¥</th>
        <th bgcolor="#bfefdf" class="col_money">è¦‹ç©é‡‘é¡</th>
        <th bgcolor="#bfefdf" class="col_money2">å—æ³¨é‡‘é¡</th>
        <th bgcolor="#bfefdf" class="col_status">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
        <th bgcolor="#bfefdf"></th>
        <th bgcolor="#bfefdf"></th>
    </tr>
    <tr th:block th:each="User : ${users}">
    	<td th:text="${User.id}"/></td>
    	<td th:text="${User.clientname}"/></td>
        <td align="center" th:text="${User.day}"/></td>
        <td th:text="${User.snumber}"/></td>
        <td th:text="${User.subject}"/></td>
        <td align="center" th:text="${User.quantity}"/></td>
        <td align="center" th:text="${User.deliveryday}"/></td>
        <td align="center" th:text="${User.deliveryday2}"/></td>
        <td align="center" th:text="${User.billingday}"/></td>
        <td align="right" th:text="${User.money}"/></td>
        <td align="right" th:text="${User.money2}"/></td>
        <td align="center"th:text="${User.status}"/></td>
        <td>
		<div>
            <a th:href="@{/user/{id}/edit(id=${User.id})}" type="button">ç·¨é›†</a>
    		<a th:href="@{/user/{id}/delete(id=${User.id})}" type="button">å‰Šé™¤</a>
		</div>
        </td>
        </th:block>
    </tr>
</table>
 <div th:fragment='paginationbar'>
            <ul class='pagination pagination-centered'>
                <li th:class="${page.firstPage}?'disabled':''" style="display:inline">
                    <span th:if='${page.firstPage}'>Â«</span>
                    <a th:if='${not page.firstPage}' th:href='@{${page.url}(page=0,size=${page.size})}'>Â«</a>
                </li>
                <li th:class="${page.hasPreviousPage}? '' : 'disabled'" style="display:inline">
                    <span th:if='${not page.hasPreviousPage}'>â€¹</span>
                    <a th:if='${page.hasPreviousPage}' th:href='@{${page.url}(page=${page.number-2},size=${page.size})}'>â€¹</a>
                </li>


                <li th:each='item : ${page.items}' th:class="${item.current}? 'active' : ''" style="display:inline">
                    <span th:if='${item.current}' th:text='${item.number}'>1</span>
                    <a th:if='${not item.current}' th:href='@{${page.url}(page=${item.number-1},size=${page.size})}'>
                    <span th:text='${item.number}'>1</span>
                    </a>
                </li>
                <li th:class="${page.hasNextPage}? '' : 'disabled'" style="display:inline">
                    <span th:if='${not page.hasNextPage}'>â€º</span>
                    <a th:if='${page.hasNextPage}' th:href='@{${page.url}(page=${page.number},size=${page.size})}'>â€º</a>
                </li>
                <li th:class="${page.lastPage}? 'disabled' : ''" style="display:inline">
                    <span th:if='${page.lastPage}'>Â»</span>
                    <a th:if='${not page.lastPage}' th:href='@{${page.url}(page=${page.totalPages - 1},size=${page.size})}'>Â»</a>
                </li>
            </ul>
        </div>
<hr>
<form action="/add">
    <input type="submit" name="newAdd" value="æ–°è¦ç™»éŒ²" style="WIDTH: 250px; HEIGHT: 20px" />
    <input type="hidden" name="newAddress" value="æ–°è¦ç™»éŒ²">
</form>
</body>
</html>